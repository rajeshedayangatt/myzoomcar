{"ast":null,"code":"var _jsxFileName = \"/home/techmaven/Documents/apps/car_rental/front_end/src/components/admin/pages/list.js\";\nimport React from \"react\";\nimport { Editor } from '@tinymce/tinymce-react';\nimport axios from \"axios\";\n\nclass PagesForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selected_id: '',\n      selected_page: '',\n      page_content: ''\n    };\n    this.handleEditorChange = this.handleEditorChange.bind(this);\n    this.submitForm = this.submitForm.bind(this);\n    this.contentChange = this.contentChange.bind(this);\n  }\n\n  handleEditorChange(el) {\n    this.setState({\n      page_content: el\n    });\n  }\n\n  contentChange(el) {\n    this.setState({\n      selected_id: '',\n      selected_page: '',\n      page_content: ''\n    });\n    let id = el.target.value;\n    axios.get(\"http://127.0.0.1:8000/api/page/\" + id).then(res => {\n      let data = res.data;\n      console.log(data);\n      this.setState({\n        selected_id: data.id,\n        selected_page: data.PageName,\n        page_content: data.detail\n      });\n    });\n  }\n\n  submitForm() {\n    let formdata = {\n      selected_page: this.state.selected_id,\n      slected_page_content: this.state.page_content\n    };\n    this.setState({\n      selected_id: '',\n      selected_page: '',\n      page_content: ''\n    });\n    axios({\n      method: 'post',\n      url: 'http://127.0.0.1:8000/api/page/save',\n      data: formdata // headers: {'Content-Type': 'multipart/form-data' }\n\n    }).then(function (response) {\n      let data = response.data;\n      this.setState({\n        selected_id: data.id,\n        selected_page: data.PageName,\n        page_content: data.detail\n      });\n    }).catch(function (response) {\n      //handle error\n      console.log(response);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, \"Manage Pages\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, \"Form Fields\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 29\n      }\n    }, \"Select Pages\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      onChange: this.contentChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 33\n      }\n    }, \"Select One\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 33\n      }\n    }, \"Terms and conditions\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 33\n      }\n    }, \"Privacy and policy\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 33\n      }\n    }, \"About us\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"11\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 33\n      }\n    }, \"Faq\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 29\n      }\n    }, \"Selected Page\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 30\n      }\n    }, this.state.selected_page))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 29\n      }\n    }, \"Page Details\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 25\n      }\n    }, this.state.page_content == \"\" ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 64\n      }\n    }) : /*#__PURE__*/React.createElement(Editor, {\n      apiKey: \"uee7kt25lgaij5leibtwfwfhatuck6yjiclskgplidmyq1oi\",\n      initialValue: this.state.page_content,\n      init: {\n        height: 500,\n        menubar: true,\n        plugins: ['advlist autolink lists link image charmap print preview anchor', 'searchreplace visualblocks code fullscreen', 'insertdatetime media table paste code help wordcount'],\n        toolbar: 'undo redo | formatselect | bold italic backcolor | \\\n                                        alignleft aligncenter alignright alignjustify | \\\n                                        bullist numlist outdent indent | removeformat | help'\n      },\n      onEditorChange: this.handleEditorChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: this.submitForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 29\n      }\n    }, \"Update\"))))));\n  }\n\n}\n\nexport default PagesForm;","map":{"version":3,"sources":["/home/techmaven/Documents/apps/car_rental/front_end/src/components/admin/pages/list.js"],"names":["React","Editor","axios","PagesForm","Component","constructor","props","state","selected_id","selected_page","page_content","handleEditorChange","bind","submitForm","contentChange","el","setState","id","target","value","get","then","res","data","console","log","PageName","detail","formdata","slected_page_content","method","url","response","catch","render","height","menubar","plugins","toolbar"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Editor } from '@tinymce/tinymce-react';\nimport axios from \"axios\";\n\nclass PagesForm extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            selected_id : '',\n            selected_page : '',\n            page_content : ''\n        };\n        this.handleEditorChange = this.handleEditorChange.bind(this);\n        this.submitForm = this.submitForm.bind(this);\n        this.contentChange = this.contentChange.bind(this);\n    }\n\n    handleEditorChange(el) {\n\n        this.setState({\n            page_content : el\n        })\n\n    }\n\n    contentChange(el) {\n        this.setState({\n            selected_id : '',\n            selected_page: '',\n            page_content : ''\n        });\n\n        let id = el.target.value;\n        axios.get(\"http://127.0.0.1:8000/api/page/\"+id).then((res) => {\n\n                let data = res.data;\n                console.log(data)\n                this.setState({\n                    selected_id : data.id,\n                    selected_page: data.PageName,\n                    page_content : data.detail\n                })\n        });\n\n    \n    }\n\n    submitForm()  {\n\n        let formdata = {\n            selected_page : this.state.selected_id,\n            slected_page_content : this.state.page_content\n        }\n\n        this.setState({\n            selected_id : '',\n            selected_page: '',\n            page_content : ''\n        })\n\n        axios({\n            method: 'post',\n            url: 'http://127.0.0.1:8000/api/page/save',\n            data: formdata,\n            // headers: {'Content-Type': 'multipart/form-data' }\n            })\n            .then(function (response) {\n                let data = response.data;\n                this.setState({\n                    selected_id : data.id,\n                    selected_page: data.PageName,\n                    page_content : data.detail\n                })\n            })\n            .catch(function (response) {\n                //handle error\n                console.log(response);\n            });\n\n\n    }\n\n    render() {\n        return(\n            <div>\n                <h2>Manage Pages</h2>\n                <div className=\"card\">\n                <div className=\"card-header\">\n                    Form Fields\n                </div>\n                <div className=\"card-body\">\n                    <div className=\"row\">\n                        <div className=\"col-md-6\">\n                            <label>Select Pages</label>\n                        </div>\n\n                        <div className=\"col-md-6\">\n                            <select className=\"form-control\" onChange={this.contentChange}>\n                                <option value=\"\">Select One</option>\n                                <option value=\"1\">Terms and conditions</option>\n                                <option value=\"2\">Privacy and policy</option>\n                                <option value=\"3\">About us</option>\n                                <option value=\"11\">Faq</option>\n                            </select>\n                        </div>\n                    </div>\n\n\n                    <div className=\"row\">\n                        <div className=\"col-md-6\">\n                            <label>Selected Page</label>\n                        </div>\n\n                        <div className=\"col-md-6\">\n                             <label>{this.state.selected_page}</label>\n                        </div>\n                    </div>\n\n\n                    <div className=\"row\">\n                        <div className=\"col-md-6\">\n                            <label>Page Details</label>\n                        </div>\n\n                        <div className=\"col-md-6\">\n                        {\n                            (this.state.page_content == \"\") ? (<div></div>) : (\n\n                                <Editor\n                    \n                                    apiKey=\"uee7kt25lgaij5leibtwfwfhatuck6yjiclskgplidmyq1oi\"\n\n                                    initialValue={this.state.page_content}\n                                    init={{\n                                    height: 500,\n                                    menubar: true,\n                                    plugins: [\n                                        'advlist autolink lists link image charmap print preview anchor',\n                                        'searchreplace visualblocks code fullscreen',\n                                        'insertdatetime media table paste code help wordcount'\n                                    ],\n                                    toolbar:\n                                        'undo redo | formatselect | bold italic backcolor | \\\n                                        alignleft aligncenter alignright alignjustify | \\\n                                        bullist numlist outdent indent | removeformat | help'\n                                    }}\n                                    onEditorChange={this.handleEditorChange}\n                                />\n\n                            ) \n                        }\n\n                        </div>\n                    </div>\n\n\n                    <div className=\"row\">\n                        <div className=\"col-md-6\">\n                        </div>\n\n                        <div className=\"col-md-6\">\n\n                            <button className=\"btn btn-primary\" onClick={this.submitForm}>Update</button>\n                        </div>\n                    </div>\n                </div>\n                </div>\n\n            </div>\n        )\n    }\n}\n\n\nexport default PagesForm;"]},"metadata":{},"sourceType":"module"}